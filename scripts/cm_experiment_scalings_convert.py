import math

training_until=10

def get_c_alpha(ll):
    sum_yi=0.
    sum_xi=0.
    sum_xi2=0.
    sum_xi_yi=0.
    
    for (l, dim) in ll:
        sum_yi += math.log2(l)
        sum_xi+=dim
        sum_xi2+=dim*dim
        sum_xi_yi+=math.log2(l)*dim

    a = (sum_yi*sum_xi2-sum_xi*sum_xi_yi)/(len(ll)*sum_xi2-sum_xi*sum_xi)
    b = (len(ll)*sum_xi_yi-sum_xi*sum_yi)/(len(ll)*sum_xi2-sum_xi*sum_xi)
    
    return (a,b)
    
ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.752248,0.0576153), (0.528197,0.071211), (0.333564,0.086241), (0.183861, 0.038951), (0.117292, 0.05464), (0.0616667, 0.028998), (0.0449813, 0.00858301)], "QAOA non_pen": [(0.918467, 0.012221, 0.118229), (0.809733, 0.038424, 0.167368), (0.762628, 0.071658, 0.178189), (0.677939, 0.025665, 0.130301), (0.618648, 0.041718, 0.151368), (0.431083, 0.022286, 0.164418), (0.293366, 0.018117, 0.148990)]}
alphas={"QAOA non_pen": -0.252157}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.048918, 0.029174), (0.041236, 0.031634), (0.018137, 0.010393), (0.005122, 0.002843), (0.003102, 0.003633), (0.001829, 0.001480), (0.000859, 0.000667)], "QAOA non_pen": [(0.087447, 0.101860, 0.087928), (0.042768, 0.049980, 0.032713), (0.030582, 0.041739, 0.036370), (0.058415, 0.028233, 0.052197), (0.014919, 0.002339, 0.013091), (0.018924, 0.018344, 0.034462), (0.017697, 0.006456, 0.032852)]}
alphas={"CMQAOA": -1.036866, "QAOA non_pen": -0.367959}


ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.071595, 0.073999), (0.040407, 0.030884), (0.046361, 0.039671), (0.008979, 0.008189), (0.003236, 0.003716), (0.002539, 0.001836), (0.002552, 0.002640)], "QAOA non_pen": [(0.017714, 0.090103, 0.009035), (0.011509, 0.048155, 0.017460), (0.005345, 0.047110, 0.005763), (0.001284, 0.006176, 0.002198), (0.008661, 0.021899, 0.012413), (0.015160, 0.013960, 0.022000), (0.006239, 0.005053, 0.006288)]}
alphas={"CMQAOA": -0.937702, "QAOA non_pen": -0.108054}


ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.092836, 0.052746), (0.039526, 0.028846), (0.033677, 0.022148), (0.007343, 0.006343), (0.005869, 0.004704), (0.000990, 0.001422), (0.000382, 0.000278), (0.000784, 0.000953), (0.000171, 0.000192), (0.000036, 0.000033), (0.000033, 0.000033), (0.000048, 0.000088)], "QAOA non_pen": [(0.090414, 0.101077, 0.050120), (0.063876, 0.179743, 0.072469), (0.044881, 0.070076, 0.048318), (0.034705, 0.024290, 0.045259), (0.003645, 0.006910, 0.007257), (0.002534, 0.001119, 0.003635), (0.000623, 0.001416, 0.000715), (0.003900, 0.001049, 0.007282), (0.000697, 0.000532, 0.001505), (0.000741, 0.000044, 0.001436), (0.000020, 0.000002, 0.000037), (0.001356, 0.000359, 0.002359)]}
alphas={"CMQAOA": -1.113088, "QAOA non_pen": -0.848948}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.075980, 0.059637), (0.032601, 0.032682), (0.017970, 0.016792), (0.007419, 0.008338), (0.003425, 0.003413), (0.002212, 0.002672), (0.001035, 0.001221), (0.000401, 0.000508), (0.000224, 0.000314), (0.000103, 0.000126), (0.000063, 0.000087), (0.000027, 0.000043)], "QAOA non_pen": [(0.103755, 0.138737, 0.111661), (0.057389, 0.065857, 0.082655), (0.025405, 0.036175, 0.034282), (0.013987, 0.014111, 0.023755), (0.005614, 0.009880, 0.009115), (0.003197, 0.003722, 0.005861), (0.001278, 0.001599, 0.002417), (0.001068, 0.001089, 0.002791), (0.000605, 0.000739, 0.001115), (0.000328, 0.000393, 0.000713), (0.000145, 0.000144, 0.000395), (0.000172, 0.000149, 0.000593)]}
alphas={"CMQAOA": -1.031819, "QAOA non_pen": -0.889409}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.079146, 0.059850), (0.034528, 0.025204), (0.017479, 0.017710), (0.011618, 0.010386), (0.007264, 0.008060), (0.002481, 0.002897), (0.001314, 0.001474), (0.001006, 0.001201), (0.000362, 0.000453), (0.000265, 0.000305), (0.000119, 0.000192), (0.000076, 0.000102)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392)]}
alphas={"CMQAOA": -0.911522, "QAOA non_pen": -0.827312}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.066666, 0.068498), (0.029814, 0.031309), (0.015927, 0.015617), (0.009020, 0.009009), (0.003919, 0.004219), (0.002398, 0.002594), (0.001802, 0.001988), (0.000544, 0.000710), (0.000274, 0.000323), (0.000147, 0.000132), (0.000077, 0.000100), (0.000044, 0.000058)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392)]}
alphas={"CMQAOA": -0.962127, "QAOA non_pen": -0.827312}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.080597, 0.066959), (0.031845, 0.032413), (0.019924, 0.020907), (0.007901, 0.007704), (0.005802, 0.007377), (0.002307, 0.002576), (0.001632, 0.001973), (0.000595, 0.000758), (0.000368, 0.000558), (0.000192, 0.000297), (0.000077, 0.000110), (0.000057, 0.000089)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392)]}
alphas={"CMQAOA": -0.953368, "QAOA non_pen": -0.827312}

cm_overlaps = []
qaoa_overlaps = []

print("x cm_overlap_sv cm_overlap_std+ cm_overlap_std- qaoa_nonpen_overlap_sv qaoa_nonpen_overlap_std+ qaoa_nonpen_overlap_std- alpha_line_cm alpha_line_qaoa fixed_used_in_training fixed_used_in_training2")
for i in range(len(ms)):
    cm_overlap=ys["CMQAOA"][i][0]
    qaoa_overlap=ys["QAOA non_pen"][i][0]
    
    cm_overlaps.append((cm_overlap, ms[i]))
    qaoa_overlaps.append((qaoa_overlap, ms[i]))

line_cm=get_c_alpha(cm_overlaps)
line_qaoa=get_c_alpha(qaoa_overlaps)

for i in range(len(ms)):
    cm_overlap=ys["CMQAOA"][i][0]
    qaoa_overlap=ys["QAOA non_pen"][i][0]
        
    e_min = ys["CMQAOA"][i][1]
    if e_min >= cm_overlap:
        e_min = cm_overlap - 0.0001
    e2_min = ys["QAOA non_pen"][i][2]
    if e2_min >= qaoa_overlap:
        e2_min = qaoa_overlap - 0.0001
    
    training2= 1
    training = 1
    if ms[i] > training_until:
        training = 0
    if ms[i] > training_until-1:
        training2 = 0
    
        
    print(ms[i], cm_overlap, ys["CMQAOA"][i][1], e_min, qaoa_overlap, ys["QAOA non_pen"][i][1], e2_min, 2**(line_cm[0]+ms[i]*line_cm[1]), 2**(line_qaoa[0]+ms[i]*line_qaoa[1]), training, training2)
print(21, 0, 0,0, 0, 0, 0, 2**(line_cm[0]+21*line_cm[1]), 2**(line_qaoa[0]+21*line_qaoa[1]), 0, 0)




    
