import math

training_until=10

def get_c_alpha(ll):
    sum_yi=0.
    sum_xi=0.
    sum_xi2=0.
    sum_xi_yi=0.
    
    for (l, dim) in ll:
        sum_yi += math.log2(l)
        sum_xi+=dim
        sum_xi2+=dim*dim
        sum_xi_yi+=math.log2(l)*dim

    a = (sum_yi*sum_xi2-sum_xi*sum_xi_yi)/(len(ll)*sum_xi2-sum_xi*sum_xi)
    b = (len(ll)*sum_xi_yi-sum_xi*sum_yi)/(len(ll)*sum_xi2-sum_xi*sum_xi)
    
    return (a,b)
    
ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.752248,0.0576153), (0.528197,0.071211), (0.333564,0.086241), (0.183861, 0.038951), (0.117292, 0.05464), (0.0616667, 0.028998), (0.0449813, 0.00858301)], "QAOA non_pen": [(0.918467, 0.012221, 0.118229), (0.809733, 0.038424, 0.167368), (0.762628, 0.071658, 0.178189), (0.677939, 0.025665, 0.130301), (0.618648, 0.041718, 0.151368), (0.431083, 0.022286, 0.164418), (0.293366, 0.018117, 0.148990)]}
alphas={"QAOA non_pen": -0.252157}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.048918, 0.029174), (0.041236, 0.031634), (0.018137, 0.010393), (0.005122, 0.002843), (0.003102, 0.003633), (0.001829, 0.001480), (0.000859, 0.000667)], "QAOA non_pen": [(0.087447, 0.101860, 0.087928), (0.042768, 0.049980, 0.032713), (0.030582, 0.041739, 0.036370), (0.058415, 0.028233, 0.052197), (0.014919, 0.002339, 0.013091), (0.018924, 0.018344, 0.034462), (0.017697, 0.006456, 0.032852)]}
alphas={"CMQAOA": -1.036866, "QAOA non_pen": -0.367959}


ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.071595, 0.073999), (0.040407, 0.030884), (0.046361, 0.039671), (0.008979, 0.008189), (0.003236, 0.003716), (0.002539, 0.001836), (0.002552, 0.002640)], "QAOA non_pen": [(0.017714, 0.090103, 0.009035), (0.011509, 0.048155, 0.017460), (0.005345, 0.047110, 0.005763), (0.001284, 0.006176, 0.002198), (0.008661, 0.021899, 0.012413), (0.015160, 0.013960, 0.022000), (0.006239, 0.005053, 0.006288)]}
alphas={"CMQAOA": -0.937702, "QAOA non_pen": -0.108054}


ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.092836, 0.052746), (0.039526, 0.028846), (0.033677, 0.022148), (0.007343, 0.006343), (0.005869, 0.004704), (0.000990, 0.001422), (0.000382, 0.000278), (0.000784, 0.000953), (0.000171, 0.000192), (0.000036, 0.000033), (0.000033, 0.000033), (0.000048, 0.000088)], "QAOA non_pen": [(0.090414, 0.101077, 0.050120), (0.063876, 0.179743, 0.072469), (0.044881, 0.070076, 0.048318), (0.034705, 0.024290, 0.045259), (0.003645, 0.006910, 0.007257), (0.002534, 0.001119, 0.003635), (0.000623, 0.001416, 0.000715), (0.003900, 0.001049, 0.007282), (0.000697, 0.000532, 0.001505), (0.000741, 0.000044, 0.001436), (0.000020, 0.000002, 0.000037), (0.001356, 0.000359, 0.002359)]}
alphas={"CMQAOA": -1.113088, "QAOA non_pen": -0.848948}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.075980, 0.059637), (0.032601, 0.032682), (0.017970, 0.016792), (0.007419, 0.008338), (0.003425, 0.003413), (0.002212, 0.002672), (0.001035, 0.001221), (0.000401, 0.000508), (0.000224, 0.000314), (0.000103, 0.000126), (0.000063, 0.000087), (0.000027, 0.000043)], "QAOA non_pen": [(0.103755, 0.138737, 0.111661), (0.057389, 0.065857, 0.082655), (0.025405, 0.036175, 0.034282), (0.013987, 0.014111, 0.023755), (0.005614, 0.009880, 0.009115), (0.003197, 0.003722, 0.005861), (0.001278, 0.001599, 0.002417), (0.001068, 0.001089, 0.002791), (0.000605, 0.000739, 0.001115), (0.000328, 0.000393, 0.000713), (0.000145, 0.000144, 0.000395), (0.000172, 0.000149, 0.000593)]}
alphas={"CMQAOA": -1.031819, "QAOA non_pen": -0.889409}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.079146, 0.059850), (0.034528, 0.025204), (0.017479, 0.017710), (0.011618, 0.010386), (0.007264, 0.008060), (0.002481, 0.002897), (0.001314, 0.001474), (0.001006, 0.001201), (0.000362, 0.000453), (0.000265, 0.000305), (0.000119, 0.000192), (0.000076, 0.000102)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392)]}
alphas={"CMQAOA": -0.911522, "QAOA non_pen": -0.827312}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.066666, 0.068498), (0.029814, 0.031309), (0.015927, 0.015617), (0.009020, 0.009009), (0.003919, 0.004219), (0.002398, 0.002594), (0.001802, 0.001988), (0.000544, 0.000710), (0.000274, 0.000323), (0.000147, 0.000132), (0.000077, 0.000100), (0.000044, 0.000058)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392)]}
alphas={"CMQAOA": -0.962127, "QAOA non_pen": -0.827312}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.080597, 0.066959), (0.031845, 0.032413), (0.019924, 0.020907), (0.007901, 0.007704), (0.005802, 0.007377), (0.002307, 0.002576), (0.001632, 0.001973), (0.000595, 0.000758), (0.000368, 0.000558), (0.000192, 0.000297), (0.000077, 0.000110), (0.000057, 0.000089)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392)]}
alphas={"CMQAOA": -0.953368, "QAOA non_pen": -0.827312}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
ys={"CMQAOA": [(0.080597, 0.066959), (0.031845, 0.032413), (0.019924, 0.020907), (0.007901, 0.007704), (0.005802, 0.007377), (0.002307, 0.002576), (0.001632, 0.001973), (0.000595, 0.000758), (0.000368, 0.000558), (0.000192, 0.000297), (0.000077, 0.000110), (0.000057, 0.000089), (0.000026, 0.000039), (0.000017, 0.000028), (0.000006, 0.000009), (0.000004, 0.000005), (0.000002, 0.000003)], "QAOA non_pen": [(0.095385, 0.145113, 0.112328), (0.052143, 0.052446, 0.058306), (0.028677, 0.033805, 0.041294), (0.023669, 0.024169, 0.033178), (0.010855, 0.010472, 0.020162), (0.009623, 0.008613, 0.029654), (0.005108, 0.004679, 0.018613), (0.002768, 0.003303, 0.005042), (0.001540, 0.000822, 0.003022), (0.000672, 0.000740, 0.001395), (0.000199, 0.000216, 0.000395), (0.000177, 0.000160, 0.000392), (0.000069, 0.000082, 0.000146), (0.000030, 0.000048, 0.000047), (0.000017, 0.000018, 0.000033), (0.000011, 0.000012, 0.000027), (0.000004, 0.000004, 0.000008)]}
alphas={"CMQAOA": -0.945552, "QAOA non_pen": -0.911910}

ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]
ys={"CMQAOA": [(0.056591, 0.049128), (0.030655, 0.038142), (0.015549, 0.014578), (0.008806, 0.009038), (0.005152, 0.005774), (0.002554, 0.002619), (0.001380, 0.001783), (0.000456, 0.000393), (0.000292, 0.000367), (0.000171, 0.000242), (0.000076, 0.000102), (0.000032, 0.000034)], "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381), (0.002457, 0.001835, 0.006227), (0.001522, 0.001569, 0.005357), (0.001085, 0.002096, 0.002814), (0.000305, 0.000553, 0.000649), (0.000241, 0.000414, 0.000483)]}
#ys={"CMQAOA": [(0.045740, 0.049886), (0.020744, 0.019667), (0.014496, 0.013823), (0.008859, 0.010590), (0.003950, 0.004421), (0.002355, 0.002706), (0.001678, 0.002373), (0.000465, 0.000571), (0.000281, 0.000342), (0.000193, 0.000288), (0.000064, 0.000078), (0.000049, 0.000097)], "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381), (0.002457, 0.001835, 0.006227), (0.001522, 0.001569, 0.005357), (0.001085, 0.002096, 0.002814), (0.000305, 0.000553, 0.000649), (0.000241, 0.000414, 0.000483)]}
alphas={"CMQAOA": -0.916003, "QAOA non_pen": -0.719349}

#ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
#ys=, "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381), (0.002457, 0.001835, 0.006227), (0.001522, 0.001569, 0.005357), (0.001085, 0.002096, 0.002814), (0.000305, 0.000553, 0.000649), (0.000241, 0.000414, 0.000483), (0.000381, 0.000189, 0.002692), (0.000085, 0.000066, 0.000265), (0.000026, 0.000044, 0.000074), (0.000024, 0.000028, 0.000071), (0.000014, 0.000011, 0.000049)]}
#ys={"CMQAOA": [(0.056591, 0.049128), (0.030655, 0.038142), (0.015549, 0.014578), (0.008806, 0.009038), (0.005152, 0.005774), (0.002554, 0.002619), (0.001380, 0.001783), (0.000456, 0.000393), (0.000292, 0.000367), (0.000171, 0.000242), (0.000076, 0.000102), (0.000032, 0.000034), (0.000026, 0.000039), (0.000017, 0.000028), (0.000006, 0.000009), (0.000004, 0.000005), (0.000002, 0.000003)], "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381), (0.002457, 0.001835, 0.006227), (0.001522, 0.001569, 0.005357), (0.001085, 0.002096, 0.002814), (0.000305, 0.000553, 0.000649), (0.000241, 0.000414, 0.000483), (0.000381, 0.000189, 0.002692), (0.000085, 0.000066, 0.000265), (0.000026, 0.000044, 0.000074), (0.000024, 0.000028, 0.000071), (0.000014, 0.000011, 0.000049)]}
#alphas={"CMQAOA": -0.916003, "QAOA non_pen": -0.768067}


#p = 7, false CMQAOA
ms=[4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]
ys={"CMQAOA": [(0.040053, 0.041199), (0.029514, 0.025633), (0.014917, 0.017471), (0.008323, 0.008424), (0.004267, 0.005323), (0.002082, 0.002235), (0.001329, 0.001420), (0.000498, 0.000563), (0.000267, 0.000295), (0.000115, 0.000128), (0.000053, 0.000054), (0.000034, 0.000045), (0.000016, 0.000020), (0.000009, 0.000012), (0.000004, 0.000006), (0.000002, 0.000003), (0.000001, 0.000001)], "QAOA non_pen": [(0.118811, 0.098341, 0.142864), (0.065788, 0.065383, 0.096999), (0.060664, 0.036570, 0.081879), (0.026766, 0.028173, 0.052810), (0.017863, 0.014420, 0.029679), (0.012150, 0.009771, 0.020451), (0.006986, 0.004687, 0.014710), (0.003242, 0.005101, 0.004943), (0.001519, 0.001324, 0.003517), (0.000584, 0.001129, 0.001169), (0.000291, 0.000336, 0.000517), (0.000143, 0.000124, 0.000424), (0.000086, 0.000072, 0.000232), (0.000025, 0.000029, 0.000067), (0.000020, 0.000020, 0.000040), (0.000013, 0.000011, 0.000042), (0.000007, 0.000007, 0.000021)]}
alphas={"CMQAOA": -0.916003, "QAOA non_pen": -0.933207}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.110110, 0.090691), (0.031880, 0.029627), (0.017847, 0.019023), (0.009241, 0.008872), (0.003492, 0.003761), (0.002276, 0.002250), (0.000702, 0.000762)], "QAOA non_pen": [(0.118811, 0.098341, 0.142864), (0.065788, 0.065383, 0.096999), (0.060664, 0.036570, 0.081879), (0.026766, 0.028173, 0.052810), (0.017863, 0.014420, 0.029679), (0.012150, 0.009771, 0.020451), (0.006986, 0.004687, 0.014710)]}
alphas={"CMQAOA": -1.137581, "QAOA non_pen": -0.675072}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.061818, 0.053956), (0.035274, 0.041330), (0.020062, 0.019488), (0.011178, 0.012492), (0.005090, 0.007612), (0.002578, 0.003253), (0.001471, 0.001847)], "QAOA non_pen": [(0.118811, 0.098341, 0.142864), (0.065788, 0.065383, 0.096999), (0.060664, 0.036570, 0.081879), (0.026766, 0.028173, 0.052810), (0.017863, 0.014420, 0.029679), (0.012150, 0.009771, 0.020451), (0.006986, 0.004687, 0.014710)]}
alphas={"CMQAOA": -0.918058, "QAOA non_pen": -0.675072}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.071369, 0.066798), (0.030969, 0.027711), (0.016551, 0.018482), (0.009736, 0.009358), (0.005601, 0.005778), (0.003664, 0.004843), (0.001301, 0.001463)], "QAOA non_pen": [(0.118811, 0.098341, 0.142864), (0.065788, 0.065383, 0.096999), (0.060664, 0.036570, 0.081879), (0.026766, 0.028173, 0.052810), (0.017863, 0.014420, 0.029679), (0.012150, 0.009771, 0.020451), (0.006986, 0.004687, 0.014710)]}
alphas={"CMQAOA": -0.894873, "QAOA non_pen": -0.675072}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.093234, 0.074070), (0.046619, 0.046295), (0.026097, 0.024031), (0.011378, 0.010829), (0.006639, 0.006589), (0.003012, 0.003727), (0.002409, 0.003686)], "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381)]}
alphas={"CMQAOA": -0.917891, "QAOA non_pen": -0.535316}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.062132, 0.053171), (0.042361, 0.039126), (0.025106, 0.027050), (0.009951, 0.008806), (0.005681, 0.007025), (0.003213, 0.005006), (0.002140, 0.002981)], "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381)]}
alphas={"CMQAOA": -0.863031, "QAOA non_pen": -0.535316}

ms=[4, 5, 6, 7, 8, 9, 10]
ys={"CMQAOA": [(0.073918, 0.073577), (0.035192, 0.028043), (0.015833, 0.014945), (0.008695, 0.008327), (0.005998, 0.007190), (0.003961, 0.004489), (0.001204, 0.001479)], "QAOA non_pen": [(0.063501, 0.089869, 0.099896), (0.032373, 0.055193, 0.058618), (0.022189, 0.030440, 0.053771), (0.024874, 0.020895, 0.053119), (0.009332, 0.017944, 0.022267), (0.008019, 0.011681, 0.016748), (0.006732, 0.007307, 0.014381)]}
alphas={"CMQAOA": -0.911530, "QAOA non_pen": -0.535316}

cm_overlaps = []
qaoa_overlaps = []

print("x cm_overlap_sv cm_overlap_std+ cm_overlap_std- qaoa_nonpen_overlap_sv qaoa_nonpen_overlap_std+ qaoa_nonpen_overlap_std- alpha_line_cm alpha_line_qaoa fixed_used_in_training fixed_used_in_training2 alpha_cm alpha_qaoa")
for i in range(len(ms)):
    cm_overlap=ys["CMQAOA"][i][0]
    qaoa_overlap=ys["QAOA non_pen"][i][0]
    
    cm_overlaps.append((cm_overlap, ms[i]))
    qaoa_overlaps.append((qaoa_overlap, ms[i]))

line_cm=get_c_alpha(cm_overlaps)
line_qaoa=get_c_alpha(qaoa_overlaps)

for i in range(len(ms)):
    cm_overlap=ys["CMQAOA"][i][0]
    qaoa_overlap=ys["QAOA non_pen"][i][0]
        
    e_min = ys["CMQAOA"][i][1]
    if e_min >= cm_overlap:
        e_min = cm_overlap - 0.0001
    e2_min = ys["QAOA non_pen"][i][2]
    if e2_min >= qaoa_overlap:
        e2_min = qaoa_overlap - 0.0001
    
    training2= 1
    training = 1
    if ms[i] > training_until:
        training = 0
    if ms[i] > training_until-1:
        training2 = 0
    
        
    print(ms[i], cm_overlap, ys["CMQAOA"][i][1], e_min, qaoa_overlap, ys["QAOA non_pen"][i][1], e2_min, 2**(line_cm[0]+ms[i]*line_cm[1]), 2**(line_qaoa[0]+ms[i]*line_qaoa[1]), training, training2, round(line_cm[1],2), round(line_qaoa[1],2))
print(21, 0, 0,0, 0, 0, 0, 2**(line_cm[0]+21*line_cm[1]), 2**(line_qaoa[0]+21*line_qaoa[1]), 0, 0, round(line_cm[1],2), round(line_qaoa[1],2))




    
